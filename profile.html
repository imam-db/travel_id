<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile - TrevID</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
    <style>
        /* === CSS Variables === */
        :root {
            --header-h: 56px;
        }
        
        /* === Subnav: tampil mirip profile.html, tanpa efek blur === */
        .subnav {
            position: sticky; 
            top: var(--header-h,56px); 
            z-index: 200;
            background: #fff; 
            box-shadow: 0 1px 0 rgba(0,0,0,.08);
            backdrop-filter: none; 
            -webkit-backdrop-filter: none; 
            filter: none;
            display: flex; 
            align-items: center; 
            gap: 12px; 
            padding: 8px 16px;
            overflow-x: auto; 
            white-space: nowrap;
        }
        
        .subnav a { 
            display:inline-flex; 
            align-items:center; 
            padding:8px 12px; 
            border-radius:999px;
            text-decoration: none;
            color: #666;
            font-size: 0.9rem;
            white-space: nowrap;
            transition: all 0.2s ease;
            flex-shrink: 0;
            min-height: 44px;
        }
        
        .subnav a:hover {
            background: #f8f9fa;
        }
        
        .subnav a.active { 
            background:#eef2ff; 
            color:#4338ca;
            font-weight: 600;
        }
        
        /* Mobile fallback (kalau di profile.html memang begitu) */
        @media (max-width: 768px){
            .subnav { display: none; }
            .subnav-dropdown { display: block; position: sticky; top: var(--header-h,56px); z-index: 200; background:#fff; }
        }
        
        /* === Grid & spacing agar ritme identik === */
        .profile-grid { display: grid; gap: 24px; }
        @media (min-width: 768px){ .profile-grid { grid-template-columns: 1fr 1fr; } }
        @media (max-width: 767px){ .profile-card { margin-bottom: 16px; } }
        
        /* Card padding/typography seperti profile.html */
        .profile-card { 
            border-radius: 12px; 
            padding: 20px; 
            background:#fff; 
            box-shadow: 0 4px 15px rgba(0,0,0,.1); 
            border: 1px solid #e5e7eb;
            margin-bottom: 24px; 
        }
        .card-header { 
            border-bottom: 1px solid #f0f0f0; 
            margin-bottom: 20px;
            padding-bottom: 16px;
        }
        
        .card-header h3 { font-size: 1rem; font-weight: 600; }
        
        /* Badge & pill spacing */
        .badge-row { display:flex; flex-wrap:wrap; gap:8px; margin-bottom: 8px; }
        .badge-restricted { white-space: nowrap; }
        
        /* Button groups: spacing + stack di mobile */
        .btn-group { display:flex; flex-wrap:wrap; gap:8px; }
        @media (max-width: 420px){ .btn-group { flex-direction: column; } }
        
        /* Emergency Contacts Grid - untuk alignment yang rapi */
        .emergency-contacts-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            align-items: start;
        }
        
        .emergency-contact {
            min-height: 120px;
        }
        
        @media (max-width: 640px) {
            .emergency-contacts-grid {
                grid-template-columns: 1fr;
            }
        }
        
        /* Anchor offset supaya judul section tidak ketutup sticky subnav */
        [id] { scroll-margin-top: 90px; }
        
        /* Pastikan tidak ada sisa efek kaca */
        .profile-header, .profile-stats, .profile-card, .main-content {
            filter:none !important; 
            backdrop-filter:none !important; 
            -webkit-backdrop-filter:none !important;
        }
        
        /* Clean CSS - No blur issues */
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f8fafc;
            filter: none !important;
            backdrop-filter: none !important;
            opacity: 1 !important;
        }
        
        .main-content {
            padding-bottom: 100px;
            filter: none !important;
            backdrop-filter: none !important;
            opacity: 1 !important;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            filter: none !important;
            backdrop-filter: none !important;
            opacity: 1 !important;
        }
        
        /* Main content container dengan padding vertikal */
        .main-content .container {
            padding: 20px;
        }
        
        /* More dropdown */
        .subnav-more {
            position: relative;
            display: flex;
        }
        
        .more-btn {
            background: none;
            border: none;
            padding: 8px 12px;
            color: #666;
            font-size: 0.9rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 4px;
            border-radius: 999px;
            min-height: 44px;
        }
        
        .more-btn:hover {
            background: #f8f9fa;
        }
        
        .more-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background: white;
            border: 1px solid #e5e9f2;
            border-radius: 10px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
            min-width: 160px;
            display: none;
            z-index: 9999;
            margin-top: 4px;
        }
        
        .more-dropdown.show {
            display: block;
        }
        
        .more-dropdown a {
            display: block;
            padding: 12px 16px;
            color: #666;
            text-decoration: none;
            font-size: 0.9rem;
            border-bottom: 1px solid #f3f4f6;
            border-radius: 0;
        }
        
        .more-dropdown a:hover {
            background: #f8f9fa;
            color: #4338ca;
        }
        
        /* Mobile dropdown */
        .subnav-dropdown {
            display: none;
        }
        
        .subnav-select {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid #e5e9f2;
            border-radius: 10px;
            background: white;
            font-size: 0.9rem;
            color: #666;
            min-height: 44px;
        }
        
        /* Profile sections */
        .profile-header {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 30px;
            padding: 20px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 1px 2px rgba(16,24,40,.06);
            filter: none !important;
            backdrop-filter: none !important;
            opacity: 1 !important;
        }
        
        .profile-avatar {
            position: relative;
        }
        
        .profile-avatar img {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid #667eea;
        }
        
        .change-photo-btn {
            position: absolute;
            bottom: 0;
            right: 0;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 50%;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
        }
        
        .profile-info h1 {
            color: #333;
            margin-bottom: 5px;
            font-size: 1.8rem;
            margin: 0 0 8px 0;
        }
        
        .profile-info .job-title {
            color: #667eea;
            font-weight: 600;
            margin: 0 0 4px 0;
        }
        
        .profile-info .department {
            color: #6b7280;
            margin: 0 0 4px 0;
        }
        
        .profile-info .employee-id {
            color: #9ca3af;
            font-size: 0.9rem;
            margin: 0;
        }
        
        .profile-stats {
            margin-bottom: 30px;
            filter: none !important;
            backdrop-filter: none !important;
            opacity: 1 !important;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }
        
        .stat-item {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,.1);
            border: 1px solid #e5e7eb;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .stat-icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
        }
        
        .stat-content {
            display: flex;
            flex-direction: column;
        }
        
        .stat-number {
            font-size: 1.5rem;
            font-weight: 700;
            color: #333;
            line-height: 1;
        }
        
        .stat-label {
             color: #6b7280;
             font-size: 0.9rem;
             margin-top: 4px;
         }
        
        /* Profile sections styling */
        .profile-section {
            margin-bottom: 40px;
        }
        
        .section-header {
            margin-bottom: 24px;
        }
        
        .section-header h2 {
            font-size: 1.5rem;
            font-weight: 700;
            color: #1f2937;
            margin: 0 0 8px 0;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .section-header h2 i {
            color: #667eea;
        }
        
        .section-desc {
            color: #6b7280;
            margin: 0;
            font-size: 0.95rem;
        }
        
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .card-header h3 {
            display: flex;
            align-items: center;
            gap: 8px;
            margin: 0;
            color: #1f2937;
        }
        
        .card-header h3 i {
            color: #667eea;
        }
        
        .edit-btn {
            background: #f3f4f6;
            border: 1px solid #d1d5db;
            color: #374151;
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 0.875rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 4px;
            transition: all 0.2s;
        }
        
        .edit-btn:hover {
            background: #e5e7eb;
        }
        
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .info-item {
            display: flex;
            flex-direction: column;
            gap: 6px;
        }
        
        .info-item label {
            font-weight: 500;
            color: #374151;
            font-size: 0.875rem;
        }
        
        .info-item span {
            color: #1f2937;
            font-size: 0.95rem;
        }
        
        .info-item.full-width {
             grid-column: 1 / -1;
         }
         
         /* Locked and restricted card styles */
         .locked-card {
             border-left: 4px solid #f59e0b;
         }
         
         .restricted-card {
             border-left: 4px solid #ef4444;
         }
         
         .admin-badge {
             background: #fef3c7;
             color: #92400e;
             padding: 4px 8px;
             border-radius: 12px;
             font-size: 0.75rem;
             font-weight: 500;
             display: flex;
             align-items: center;
             gap: 4px;
         }
         
         .restricted-badge {
             background: #fee2e2;
             color: #dc2626;
             padding: 4px 8px;
             border-radius: 12px;
             font-size: 0.75rem;
             font-weight: 500;
             display: flex;
             align-items: center;
             gap: 4px;
         }
         
         .restricted-notice {
             background: #fef2f2;
             border: 1px solid #fecaca;
             border-radius: 8px;
             padding: 12px;
             margin-bottom: 16px;
             display: flex;
             align-items: flex-start;
             gap: 8px;
         }
         
         .restricted-notice i {
             color: #dc2626;
             margin-top: 2px;
         }
         
         .restricted-notice strong {
             color: #dc2626;
             font-size: 0.875rem;
         }
         
         .restricted-notice p {
             color: #6b7280;
             font-size: 0.8rem;
             margin: 4px 0 0 0;
         }
         
         .info-item.locked label {
             color: #92400e;
         }
         
         .info-item.restricted label {
             color: #dc2626;
         }
         
         .masked-data {
             cursor: pointer;
             display: flex;
             align-items: center;
             gap: 8px;
             color: #6b7280;
         }
         
         .request-change-btn, .contact-finance-btn {
             background: #f3f4f6;
             border: 1px solid #d1d5db;
             color: #374151;
             padding: 8px 16px;
             border-radius: 6px;
             font-size: 0.875rem;
             cursor: pointer;
             display: flex;
             align-items: center;
             gap: 6px;
             margin-top: 16px;
             transition: all 0.2s;
         }
         
         .request-change-btn:hover, .contact-finance-btn:hover {
             background: #e5e7eb;
         }
         
         .contact-finance-btn {
             background: #fef2f2;
             border-color: #fecaca;
             color: #dc2626;
         }
         
         .contact-finance-btn:hover {
             background: #fee2e2;
         }
         
         /* Budget styles */
         .budget-overview {
             display: flex;
             flex-direction: column;
             gap: 20px;
         }
         
         .budget-item {
             background: #f9fafb;
             border-radius: 8px;
             padding: 16px;
         }
         
         .budget-header {
             display: flex;
             justify-content: space-between;
             align-items: center;
             margin-bottom: 12px;
         }
         
         .budget-title {
             font-weight: 500;
             color: #374151;
         }
         
         .budget-amount {
             font-weight: 600;
             color: #1f2937;
             font-size: 1.1rem;
         }
         
         .budget-progress {
             display: flex;
             flex-direction: column;
             gap: 8px;
         }
         
         .progress-bar {
             width: 100%;
             height: 8px;
             background: #e5e7eb;
             border-radius: 4px;
             overflow: hidden;
         }
         
         .progress-fill {
             height: 100%;
             background: #3b82f6;
             transition: width 0.3s ease;
         }
         
         .progress-text {
             font-size: 0.875rem;
             color: #6b7280;
         }
         
         .badge-admin {
             background: #fef3c7;
             color: #92400e;
             padding: 4px 8px;
             border-radius: 12px;
             font-size: 0.75rem;
             font-weight: 500;
             display: flex;
             align-items: center;
             gap: 4px;
         }
         
         /* Approval chain styles */
         .approval-chain {
             margin-top: 16px;
         }
         
         .approval-chain label {
             font-weight: 500;
             color: #374151;
             margin-bottom: 12px;
             display: block;
         }
         
         .approver-list {
             display: flex;
             align-items: center;
             gap: 12px;
             flex-wrap: wrap;
         }
         
         .approver-item {
             display: flex;
             align-items: center;
             gap: 8px;
             background: #f9fafb;
             padding: 8px 12px;
             border-radius: 8px;
             border: 1px solid #e5e7eb;
         }
         
         .approver-number {
             font-size: 0.875rem;
         }
         
         .approver-info {
             display: flex;
             align-items: center;
             gap: 8px;
         }
         
         .approver-avatar {
             width: 32px;
             height: 32px;
             border-radius: 50%;
             overflow: hidden;
         }
         
         .approver-avatar img {
             width: 100%;
             height: 100%;
             object-fit: cover;
         }
         
         .approver-details {
             display: flex;
             flex-direction: column;
         }
         
         .approver-details strong {
             font-size: 0.875rem;
             color: #1f2937;
         }
         
         .approver-details span {
             font-size: 0.75rem;
             color: #6b7280;
         }
         
         .approval-arrow {
              color: #6b7280;
              font-size: 1.2rem;
          }
          
          /* MWP Tools styles */
          .mwp-tools {
              display: flex;
              flex-direction: column;
              gap: 24px;
          }
          
          .tool-section {
              background: #f9fafb;
              border-radius: 8px;
              padding: 20px;
          }
          
          .tool-section h4 {
              margin: 0 0 16px 0;
              font-size: 1rem;
              font-weight: 600;
              color: #374151;
          }
          
          .tool-btn {
              display: flex;
              align-items: center;
              gap: 8px;
              padding: 10px 16px;
              border-radius: 6px;
              border: 1px solid #d1d5db;
              background: #fff;
              color: #374151;
              font-size: 0.875rem;
              cursor: pointer;
              transition: all 0.2s;
          }
          
          .tool-btn.primary {
              background: #3b82f6;
              border-color: #3b82f6;
              color: #fff;
          }
          
          .tool-btn.primary:hover {
              background: #2563eb;
          }
          
          .tool-btn.secondary:hover {
              background: #f3f4f6;
          }
          
          .upload-preferences {
              margin-top: 16px;
              display: flex;
              flex-direction: column;
              gap: 8px;
          }
          
          .preference-item {
              display: flex;
              align-items: center;
              gap: 8px;
              font-size: 0.875rem;
              color: #6b7280;
              cursor: pointer;
          }
          
          .mwp-status {
              display: flex;
              flex-direction: column;
              gap: 12px;
              margin-bottom: 16px;
          }
          
          .status-item {
              display: flex;
              justify-content: space-between;
              align-items: center;
              padding: 8px 0;
              border-bottom: 1px solid #e5e7eb;
          }
          
          .status-item:last-child {
              border-bottom: none;
          }
          
          .status-label {
              font-size: 0.875rem;
              color: #6b7280;
          }
          
          .status-value {
              font-size: 0.875rem;
              font-weight: 500;
              padding: 4px 8px;
              border-radius: 12px;
          }
          
          .status-value.submitted {
              background: #dbeafe;
              color: #1d4ed8;
          }
          
          .status-value.approved {
              background: #dcfce7;
              color: #16a34a;
          }
          
          .view-mwp-btn {
              display: flex;
              align-items: center;
              gap: 8px;
              padding: 10px 16px;
              background: #f3f4f6;
              border: 1px solid #d1d5db;
              border-radius: 6px;
              color: #374151;
              font-size: 0.875rem;
              cursor: pointer;
              transition: all 0.2s;
          }
          
          .view-mwp-btn:hover {
              background: #e5e7eb;
          }
          
          /* Notification Settings styles */
          .notification-matrix {
              margin-bottom: 32px;
          }
          
          .matrix-table {
              border: 1px solid #e5e7eb;
              border-radius: 8px;
              overflow: hidden;
          }
          
          .matrix-header {
              display: flex;
              background: #f9fafb;
              border-bottom: 1px solid #e5e7eb;
          }
          
          .matrix-label-header {
              flex: 1;
              padding: 16px 20px;
              font-weight: 600;
              color: #374151;
              border-right: 1px solid #e5e7eb;
          }
          
          .matrix-channels-header {
              display: flex;
              flex: 1;
          }
          
          .channel-header {
              flex: 1;
              padding: 16px 20px;
              text-align: center;
              border-right: 1px solid #e5e7eb;
              display: flex;
              flex-direction: column;
              align-items: center;
              gap: 8px;
          }
          
          .channel-header:last-child {
              border-right: none;
          }
          
          .channel-header i {
              color: #667eea;
              font-size: 1.2rem;
          }
          
          .channel-header span {
              font-weight: 600;
              color: #374151;
              font-size: 0.875rem;
          }
          
          .test-notification-btn {
              background: #f3f4f6;
              border: 1px solid #d1d5db;
              border-radius: 4px;
              padding: 4px 8px;
              color: #6b7280;
              cursor: pointer;
              font-size: 0.75rem;
              transition: all 0.2s;
          }
          
          .test-notification-btn:hover {
              background: #e5e7eb;
              color: #374151;
          }
          
          .matrix-row {
              display: flex;
              border-bottom: 1px solid #e5e7eb;
          }
          
          .matrix-row:last-child {
              border-bottom: none;
          }
          
          .matrix-label {
              flex: 1;
              padding: 16px 20px;
              border-right: 1px solid #e5e7eb;
              display: flex;
              flex-direction: column;
              gap: 4px;
          }
          
          .notification-name {
              font-weight: 500;
              color: #1f2937;
              font-size: 0.875rem;
          }
          
          .notification-desc {
              color: #6b7280;
              font-size: 0.75rem;
          }
          
          .matrix-channels {
              display: flex;
              flex: 1;
          }
          
          .matrix-channels .toggle-switch {
              flex: 1;
              display: flex;
              justify-content: center;
              align-items: center;
              padding: 16px 20px;
              border-right: 1px solid #e5e7eb;
          }
          
          .matrix-channels .toggle-switch:last-child {
              border-right: none;
          }
          
          .toggle-switch.mini {
              transform: scale(0.8);
          }
          
          .notification-schedule {
              margin-bottom: 24px;
          }
          
          .schedule-settings {
              display: flex;
              flex-direction: column;
              gap: 20px;
          }
          
          .schedule-item {
              display: flex;
              justify-content: space-between;
              align-items: center;
              padding: 16px 0;
              border-bottom: 1px solid #f3f4f6;
          }
          
          .schedule-item:last-child {
              border-bottom: none;
          }
          
          .schedule-info {
              display: flex;
              flex-direction: column;
              gap: 4px;
          }
          
          .schedule-title {
              font-weight: 500;
              color: #1f2937;
              font-size: 0.875rem;
          }
          
          .schedule-desc {
              color: #6b7280;
              font-size: 0.75rem;
          }
          
          .time-range {
              display: flex;
              align-items: center;
              gap: 12px;
          }
          
          .time-select, .digest-select {
              padding: 8px 12px;
              border: 1px solid #d1d5db;
              border-radius: 6px;
              background: #fff;
              color: #374151;
              font-size: 0.875rem;
              cursor: pointer;
          }
          
          .time-select:focus, .digest-select:focus {
              outline: none;
              border-color: #667eea;
              box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
          }
          
          .time-range span {
              color: #6b7280;
              font-size: 0.875rem;
          }
          
          /* Media queries */
        @media (min-width: 769px) {
            .subnav-more {
                display: flex;
            }
        }
        
        @media (max-width: 768px) {
            .subnav {
                display: none;
            }
            
            .subnav-dropdown {
                display: block !important;
                position: sticky;
                top: 0;
                z-index: 100;
                background: #fff;
                border: 1px solid #e5e9f2;
                border-radius: 10px;
                padding: 8px;
                margin-bottom: 20px;
                box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            }
            
            .profile-header {
                flex-direction: column;
                text-align: center;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        /* Override any loading states */
        .loading,
        .dimmed,
        *[class*="loading"],
        *[class*="dimmed"] {
            opacity: 1 !important;
            filter: none !important;
            backdrop-filter: none !important;
            pointer-events: auto !important;
        }
        
        /* Permissions & Audit Trail Styles */
        .permissions-section, .audit-section {
            margin-bottom: 30px;
        }
        
        .permissions-section h4, .audit-section h4 {
            margin: 0 0 20px 0;
            color: #333;
            font-size: 16px;
        }
        
        .permissions-grid {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .permission-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            border: 1px solid #e9ecef;
        }
        
        .permission-info {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }
        
        .permission-field {
            font-weight: 500;
            color: #333;
        }
        
        .permission-desc {
            font-size: 14px;
            color: #666;
        }
        
        .badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .badge.editable {
            background: #d4edda;
            color: #155724;
        }
        
        .badge.managed {
            background: #fff3cd;
            color: #856404;
        }
        
        .badge.restricted {
            background: #f8d7da;
            color: #721c24;
        }
        
        .audit-trail {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .audit-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }
        
        .audit-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #667eea;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
        
        .audit-details {
            flex: 1;
        }
        
        .audit-action {
            font-weight: 500;
            color: #333;
            margin-bottom: 4px;
        }
        
        .audit-meta {
            font-size: 14px;
            color: #666;
        }
        
        .status-badge {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 500;
            text-transform: uppercase;
        }
        
        .status-badge.sensitive {
            background: #fff3cd;
            color: #856404;
        }
        
        .status-badge.normal {
            background: #d4edda;
            color: #155724;
        }
        
        .status-badge.security {
            background: #cce5ff;
            color: #0056b3;
        }
        
        .audit-actions {
            text-align: center;
        }
        
        .btn-secondary {
            background: #6c757d;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
        }
        
        .btn-secondary:hover {
            background: #5a6268;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="logo">
                <img 
                    class="brand-logo" 
                    src="/assets/brand/trevid_logo.png" 
                    srcset="/assets/brand/trevid_logo.png 1x, /assets/brand/trevid_logo@2x.png 2x" 
                    alt="TrevID – Business Companion" 
                    width="140" height="36" />
            </div>
            <div class="user-info">
                <span>Hello, John Doe</span>
                <i class="fas fa-user-circle"></i>
            </div>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="bottom-nav">
        <a href="index.html" class="nav-item">
            <i class="fas fa-home"></i>
            <span>Dashboard</span>
        </a>
        <a href="travel.html" class="nav-item">
            <i class="fas fa-plane"></i>
            <span>Travel</span>
        </a>
        <a href="vehicle.html" class="nav-item">
            <i class="fas fa-car"></i>
            <span>Vehicle</span>
        </a>
        <a href="expenses.html" class="nav-item">
            <i class="fas fa-receipt"></i>
            <span>Expenses</span>
        </a>
        <a href="approvals.html" class="nav-item">
            <i class="fas fa-check-circle"></i>
            <span>Approvals</span>
        </a>
        <a href="profile.html" class="nav-item active">
            <i class="fas fa-user"></i>
            <span>Profile</span>
        </a>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Clean Sub Navigation -->
            <nav class="subnav">
                <a href="#personal" class="active" aria-current="page">Personal</a>
                <a href="#business">Business</a>
                <a href="#preferences">Preferences</a>
                <a href="#reimb">Reimbursements</a>
                <a href="#budget">Budget</a>
                <a href="#policy">Policies</a>
                <a href="#mwp">MWP</a>
                <a href="#vehicle">Vehicle</a>
                <div class="subnav-more">
                    <button class="more-btn" onclick="toggleMoreMenu()" aria-expanded="false">
                        More <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="more-dropdown">
                        <a href="#integrations">Integrations</a>
                        <a href="#notifications">Notifications</a>
                        <a href="#delegation">Delegation</a>
                        <a href="#sessions">Sessions</a>
                        <a href="#security">Security</a>
                        <a href="#app">App</a>
                        <a href="#permissions">Permissions</a>
                    </div>
                </div>
            </nav>
            
            <!-- Mobile Dropdown -->
            <div class="subnav-dropdown">
                <select class="subnav-select" onchange="location.hash = this.value">
                    <option value="#personal">Personal</option>
                    <option value="#business">Business</option>
                    <option value="#preferences">Preferences</option>
                    <option value="#reimb">Reimbursements</option>
                    <option value="#budget">Budget</option>
                    <option value="#policy">Policies</option>
                    <option value="#mwp">MWP</option>
                    <option value="#vehicle">Vehicle</option>
                    <option value="#integrations">Integrations</option>
                    <option value="#notifications">Notifications</option>
                    <option value="#delegation">Delegation</option>
                    <option value="#sessions">Sessions</option>
                    <option value="#security">Security</option>
                    <option value="#app">App</option>
                </select>
            </div>
            
            <!-- Profile Header -->
            <section class="profile-header">
                <div class="profile-avatar">
                    <img src="https://via.placeholder.com/120x120" alt="John Doe avatar">
                </div>
                <div class="profile-info">
                    <h1>John Doe</h1>
                    <p class="job-title">Senior Marketing Manager</p>
                    <p class="department">Marketing Department</p>
                    <p class="employee-id">ID: EMP-2024-001</p>
                </div>
            </section>

            <!-- Profile Stats -->
            <section class="profile-stats">
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-icon">
                            <i class="fas fa-plane"></i>
                        </div>
                        <div class="stat-content">
                            <span class="stat-number">24</span>
                            <span class="stat-label">Total Trips</span>
                        </div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-icon">
                            <i class="fas fa-receipt"></i>
                        </div>
                        <div class="stat-content">
                            <span class="stat-number">48</span>
                            <span class="stat-label">Expense Reports</span>
                        </div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-icon">
                            <i class="fas fa-money-bill-wave"></i>
                        </div>
                        <div class="stat-content">
                            <span class="stat-number">$125K</span>
                            <span class="stat-label">Total Expenses</span>
                        </div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="stat-content">
                            <span class="stat-number">96%</span>
                            <span class="stat-label">Approval Rate</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Personal Information Section -->
            <div id="personal" class="profile-section">
                <div class="section-header">
                    <h2><i class="fas fa-user"></i> Personal Information</h2>
                    <p class="section-desc">Information you can edit and manage yourself</p>
                </div>
                
                <div class="profile-grid">
                    <!-- Basic Identity Card -->
                    <div class="profile-card">
                        <div class="card-header">
                            <h3><i class="fas fa-id-card"></i> Basic Identity</h3>
                            <button class="edit-btn" onclick="editCard('basic-identity')">
                                <i class="fas fa-edit"></i> Edit
                            </button>
                        </div>
                        <div class="card-content" id="basic-identity">
                            <div class="info-grid">
                                <div class="info-item editable">
                                    <label>Full Name</label>
                                    <span class="editable-field" data-field="fullName">John Doe</span>
                                </div>
                                <div class="info-item editable">
                                    <label>Date of Birth</label>
                                    <span class="editable-field" data-field="dateOfBirth">15 March 1990</span>
                                </div>
                                <div class="info-item editable">
                                    <label>National ID (KTP)</label>
                                    <span class="editable-field" data-field="nationalId">3174************</span>
                                </div>
                                <div class="info-item editable">
                                    <label>Passport No</label>
                                    <span class="editable-field" data-field="passportNo">C123456</span>
                                </div>
                                <div class="info-item editable full-width">
                                    <label>Home Address</label>
                                    <span class="editable-field" data-field="homeAddress">Jl. Sudirman No. 123, Jakarta Pusat 10220</span>
                                </div>
                            </div>
                            <div class="card-actions" style="display: none;">
                                <button class="save-btn" onclick="saveCard('basic-identity')">Save</button>
                                <button class="cancel-btn" onclick="cancelEdit('basic-identity')">Cancel</button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Contact Information Card -->
                    <div class="profile-card">
                        <div class="card-header">
                            <h3><i class="fas fa-phone"></i> Contact Information</h3>
                            <button class="edit-btn" onclick="editCard('contact-info')">
                                <i class="fas fa-edit"></i> Edit
                            </button>
                        </div>
                        <div class="card-content" id="contact-info">
                            <div class="info-grid">
                                <div class="info-item editable">
                                    <label>Mobile No</label>
                                    <a href="tel:+6281234567890" class="phone-link editable-field" data-field="mobileNo">+62 812 3456 7890</a>
                                </div>
                                <div class="info-item editable">
                                    <label>Personal Email</label>
                                    <span class="editable-field" data-field="personalEmail">john.doe@company.com</span>
                                </div>
                            </div>
                            
                            <!-- Emergency Contacts Grid -->
                            <div class="emergency-contacts-grid">
                                <div class="info-item emergency-contact">
                                    <label><i class="fas fa-exclamation-triangle"></i> Emergency Contact 1</label>
                                    <div class="contact-details">
                                        <strong class="editable-field" data-field="emergency1Name">Jane Doe</strong>
                                        <span class="relation editable-field" data-field="emergency1Relation">Wife</span>
                                        <a href="tel:+6281397654321" class="phone-link editable-field" data-field="emergency1Phone">+62 813 9876 5432</a>
                                    </div>
                                </div>
                                <div class="info-item emergency-contact">
                                    <label><i class="fas fa-exclamation-triangle"></i> Emergency Contact 2</label>
                                    <div class="contact-details">
                                        <strong class="editable-field" data-field="emergency2Name">Tom Doe</strong>
                                        <span class="relation editable-field" data-field="emergency2Relation">Brother</span>
                                        <a href="tel:+6281234567892" class="phone-link editable-field" data-field="emergency2Phone">+62 812 34 5678 92</a>
                                    </div>
                                </div>
                            </div>
                            <div class="card-actions" style="display: none;">
                                <button class="save-btn" onclick="saveCard('contact-info')">Save</button>
                                <button class="cancel-btn" onclick="cancelEdit('contact-info')">Cancel</button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Document Upload Card -->
                    <div class="profile-card">
                        <div class="card-header">
                            <h3><i class="fas fa-file-upload"></i> Identity Documents</h3>
                            <button class="edit-btn" onclick="editCard('documents')">
                                <i class="fas fa-edit"></i> Edit
                            </button>
                        </div>
                        <div class="card-content" id="documents">
                            <div class="document-grid">
                                <div class="document-item">
                                    <label>KTP (National ID)</label>
                                    <div class="document-upload">
                                        <div class="document-preview">
                                            <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iNTAiIHZpZXdCb3g9IjAgMCA4MCA1MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjUwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0yNCAyMEgzNlYyNEgyNFYyMFoiIGZpbGw9IiM5Q0EzQUYiLz4KPHA+dGggZD0iTTI0IDI2SDU2VjMwSDI0VjI2WiIgZmlsbD0iIzlDQTNBRiIvPgo8cGF0aCBkPSJNMjQgMzJINTZWMzZIMjRWMzJaIiBmaWxsPSIjOUNBM0FGIi8+CjwvcGF0aD4KPC9zdmc+" alt="KTP Preview" class="doc-thumbnail">
                                        </div>
                                        <div class="document-status">
                                            <span class="badge uploaded"><i class="fas fa-check"></i> Uploaded</span>
                                            <button class="upload-btn" onclick="uploadDocument('ktp')">Replace</button>
                                        </div>
                                    </div>
                                </div>
                                <div class="document-item">
                                    <label>Passport</label>
                                    <div class="document-upload">
                                        <div class="document-preview">
                                            <div class="doc-placeholder">
                                                <i class="fas fa-file-upload"></i>
                                                <span>No file uploaded</span>
                                            </div>
                                        </div>
                                        <div class="document-status">
                                            <span class="badge missing"><i class="fas fa-exclamation"></i> Missing</span>
                                            <button class="upload-btn" onclick="uploadDocument('passport')">Upload</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Business Information Section -->
            <div id="business" class="profile-section">
                <div class="section-header">
                    <h2><i class="fas fa-briefcase"></i> Business Information</h2>
                    <p class="section-desc">Information managed by HR and Finance teams</p>
                </div>
                
                <div class="profile-grid">
                    <!-- Employment & Organization Card -->
                    <div class="profile-card locked-card">
                        <div class="card-header">
                            <h3><i class="fas fa-building"></i> Employment & Organization</h3>
                            <span class="admin-badge"><i class="fas fa-shield-alt"></i> Managed by Admin</span>
                        </div>
                        <div class="card-content">
                            <div class="info-grid">
                                <div class="info-item locked">
                                    <label><i class="fas fa-lock"></i> Cost Center</label>
                                    <span>CC-MKT-001</span>
                                </div>
                                <div class="info-item locked">
                                    <label><i class="fas fa-lock"></i> Division / Region</label>
                                    <span>Marketing Division - Jakarta</span>
                                </div>
                                <div class="info-item locked">
                                    <label><i class="fas fa-lock"></i> Employee Grade</label>
                                    <span>Grade 12</span>
                                </div>
                                <div class="info-item locked">
                                    <label><i class="fas fa-lock"></i> Join Date</label>
                                    <span>15 January 2020</span>
                                </div>
                            </div>
                            <button class="request-change-btn" onclick="requestChange('employment')">
                                <i class="fas fa-envelope"></i> Request Change
                            </button>
                        </div>
                    </div>
                    
                    <!-- Advance & Approval Chain Card -->
                    <div class="profile-card locked-card">
                        <div class="card-header">
                            <h3><i class="fas fa-route"></i> Advance & Approval</h3>
                            <span class="admin-badge"><i class="fas fa-shield-alt"></i> Managed by Admin</span>
                        </div>
                        <div class="card-content">
                            <div class="info-item locked">
                                <label><i class="fas fa-lock"></i> Advance Limit</label>
                                <span class="amount">Rp 5,000,000 / request</span>
                            </div>
                            <div class="approval-chain">
                                <label>Approval Chain:</label>
                                <div class="approver-list">
                                    <div class="approver-item">
                                        <div class="approver-number">1️⃣</div>
                                        <div class="approver-info">
                                            <div class="approver-avatar">
                                                <img src="https://via.placeholder.com/32x32" alt="Sarah Johnson">
                                            </div>
                                            <div class="approver-details">
                                                <strong>Sarah Johnson</strong>
                                                <span>Line Manager</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="approval-arrow">➔</div>
                                    <div class="approver-item">
                                        <div class="approver-number">2️⃣</div>
                                        <div class="approver-info">
                                            <div class="approver-avatar">
                                                <img src="https://via.placeholder.com/32x32" alt="Michael Chen">
                                            </div>
                                            <div class="approver-details">
                                                <strong>Michael Chen</strong>
                                                <span>Finance</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="approval-arrow">➔</div>
                                    <div class="approver-item">
                                        <div class="approver-number">3️⃣</div>
                                        <div class="approver-info">
                                            <div class="approver-avatar">
                                                <img src="https://via.placeholder.com/32x32" alt="Lisa Wong">
                                            </div>
                                            <div class="approver-details">
                                                <strong>Lisa Wong</strong>
                                                <span>HR</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <button class="request-change-btn" onclick="requestChange('approval')">
                                <i class="fas fa-envelope"></i> Request Change
                            </button>
                        </div>
                    </div>
                    
                    <!-- Bank & Tax Information Card -->
                    <div class="profile-card locked-card restricted-card">
                        <div class="card-header">
                            <h3><i class="fas fa-university"></i> Reimbursements</h3>
                            <span class="restricted-badge"><i class="fas fa-exclamation-triangle"></i> RESTRICTED</span>
                        </div>
                        <div class="card-content">
                            <div class="restricted-notice">
                                <i class="fas fa-shield-alt"></i>
                                <div>
                                    <strong>RESTRICTED - CONTACT FINANCE</strong>
                                    <p>This information is confidential and managed by the Finance team.</p>
                                </div>
                            </div>
                            <div class="info-grid">
                                <div class="info-item locked restricted">
                                    <label><i class="fas fa-lock"></i> Bank Account</label>
                                    <span class="masked-data" onclick="showRestrictedModal('bank')">••••••••••••1234 <i class="fas fa-eye"></i></span>
                                </div>
                                <div class="info-item locked restricted">
                                    <label><i class="fas fa-lock"></i> NPWP</label>
                                    <span class="masked-data" onclick="showRestrictedModal('npwp')">••.•••.•••.•-•••.••• <i class="fas fa-eye"></i></span>
                                </div>
                            </div>
                            <button class="contact-finance-btn" onclick="contactFinance()">
                                <i class="fas fa-envelope"></i> Contact Finance Team
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Budget Information -->
            <div id="budget" class="profile-card">
                <div class="card-header">
                    <h3><i class="fas fa-wallet"></i> Budget Information</h3>
                    <span class="badge-admin"><i class="fas fa-lock"></i> Managed by Admin</span>
                </div>
                <div class="card-content">
                    <div class="budget-overview locked">
                        <div class="budget-item">
                            <div class="budget-header">
                                <span class="budget-title">Monthly Travel Budget</span>
                                <span class="budget-amount">$15,000</span>
                            </div>
                            <div class="budget-progress">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 68%"></div>
                                </div>
                                <span class="progress-text">68% Used ($10,200)</span>
                            </div>
                        </div>
                        
                        <div class="budget-item">
                            <div class="budget-header">
                                <span class="budget-title">Yearly Travel Budget</span>
                                <span class="budget-amount">$180,000</span>
                            </div>
                            <div class="budget-progress">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 45%"></div>
                                </div>
                                <span class="progress-text">45% Used ($81,000)</span>
                            </div>
                        </div>
                    </div>
                    <div class="last-updated">Last updated by Finance Admin on 10 Dec 2024</div>
                </div>
            </div>

            <!-- Travel Preferences Section -->
            <div id="preferences" class="profile-section">
                <div class="section-header">
                    <h2><i class="fas fa-plane"></i> Travel Preferences</h2>
                    <p class="section-desc">Your default travel booking preferences</p>
                </div>
                
                <div class="profile-card">
                    <div class="card-header">
                        <h3><i class="fas fa-cog"></i> Booking Preferences</h3>
                        <button class="edit-btn" onclick="editTravelPrefs()">
                            <i class="fas fa-edit"></i> Edit
                        </button>
                    </div>
                <div class="card-content">
                    <div class="preferences-section">
                        <h4>Booking Preferences</h4>
                        <div class="info-grid">
                            <div class="info-item">
                                <label>Preferred Airline</label>
                                <span>Garuda Indonesia</span>
                            </div>
                            <div class="info-item">
                                <label>Seat Preference</label>
                                <span>Aisle Seat</span>
                            </div>
                            <div class="info-item">
                                <label>Baggage Preference</label>
                                <span>25kg checked bag</span>
                            </div>
                            <div class="info-item">
                                <label>Meal Preference</label>
                                <span>Halal</span>
                            </div>
                            <div class="info-item">
                                <label>Hotel Category</label>
                                <span>4-5 Star Hotels</span>
                            </div>
                            <div class="info-item">
                                <label>Room Type</label>
                                <span>Single Room, Non-smoking</span>
                            </div>
                            <div class="info-item">
                                <label>Car Rental</label>
                                <span>Compact/Economy</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="preferences-section">
                        <h4>Loyalty Programs</h4>
                        <div class="loyalty-list">
                            <div class="loyalty-item">
                                <div class="loyalty-icon airline">
                                    <i class="fas fa-plane"></i>
                                </div>
                                <div class="loyalty-details">
                                    <span class="loyalty-name">Garuda Miles</span>
                                    <span class="loyalty-number">GM123456789</span>
                                    <span class="loyalty-tier">Gold Member</span>
                                </div>
                            </div>
                            
                            <div class="loyalty-item">
                                <div class="loyalty-icon hotel">
                                    <i class="fas fa-bed"></i>
                                </div>
                                <div class="loyalty-details">
                                    <span class="loyalty-name">Marriott Bonvoy</span>
                                    <span class="loyalty-number">MB987654321</span>
                                    <span class="loyalty-tier">Platinum Elite</span>
                                </div>
                            </div>
                            
                            <div class="loyalty-item">
                                <div class="loyalty-icon rental">
                                    <i class="fas fa-car"></i>
                                </div>
                                <div class="loyalty-details">
                                    <span class="loyalty-name">Hertz Gold Plus</span>
                                    <span class="loyalty-number">HZ456789123</span>
                                    <span class="loyalty-tier">Gold Member</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="preferences-section">
                        <h4>Cash Advance Defaults</h4>
                        <div class="info-grid">
                            <div class="info-item">
                                <label>Default Currency</label>
                                <span>IDR (Indonesian Rupiah)</span>
                            </div>
                            <div class="info-item">
                                <label>Disbursement Method</label>
                                <span>Bank Transfer</span>
                            </div>
                            <div class="info-item">
                                <label>Default Amount</label>
                                <span>IDR 10,000,000</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="last-updated">Last updated by John Doe on 18 Dec 2024</div>
                </div>
            </div>

            <!-- Bank & Tax Information -->
            <div id="reimb" class="profile-card">
                <div class="card-header">
                    <h3><i class="fas fa-university"></i> Bank & Tax Information</h3>
                    <div class="badge-row">
                        <span class="badge restricted" aria-label="Restricted - Contact Finance"><i class="fas fa-lock" aria-hidden="true"></i> Restricted – Contact Finance</span>
                    </div>
                </div>
                <div class="card-content">
                    <div class="info-grid">
                        <div class="info-item">
                            <label>Bank Name</label>
                            <span>Bank Central Asia (BCA)</span>
                        </div>
                        <div class="info-item">
                            <div class="badge-row">
                                <label>Account Number</label>
                                <span class="badge restricted" aria-label="Restricted - Contact Finance"><i class="fas fa-lock" aria-hidden="true"></i> Restricted</span>
                            </div>
                            <div class="sensitive-data">
                                <span id="bankAccount" class="masked-data">****-****-1234</span>
                                <button class="reveal-btn" onclick="revealSensitiveData('bankAccount', '1234-5678-1234')" disabled>
                                    <i class="fas fa-eye"></i> Contact Finance
                                </button>
                            </div>
                            <small class="helper-text">Account number will be used for reimbursements</small>
                        </div>
                        <div class="info-item">
                            <label>Account Holder</label>
                            <span>John Doe</span>
                            <small class="helper-text">Must match your legal name on ID</small>
                        </div>
                        <div class="info-item">
                            <label>Currency</label>
                            <span>IDR (Indonesian Rupiah)</span>
                        </div>
                        <div class="info-item">
                            <div class="badge-row">
                                <label>Tax ID (NPWP)</label>
                                <span class="badge restricted" aria-label="Restricted - Contact Finance"><i class="fas fa-lock" aria-hidden="true"></i> Restricted</span>
                            </div>
                            <div class="sensitive-data">
                                <span id="taxId" class="masked-data">**.***.***.*-***.***</span>
                                <button class="reveal-btn" onclick="revealSensitiveData('taxId', '12.345.678.9-012.000')" disabled>
                                    <i class="fas fa-eye"></i> Contact Finance
                                </button>
                            </div>
                            <small class="helper-text">Required for tax reporting compliance</small>
                        </div>
                        <div class="info-item">
                            <label>Verification Status</label>
                            <span class="status-verified"><i class="fas fa-check-circle"></i> Verified</span>
                        </div>
                    </div>
                    <div class="last-updated">Last updated by John Doe on 20 Nov 2024</div>
                </div>
            </div>

            <!-- Policy Snapshot -->
            <div class="profile-card" id="policy">
                <div class="card-header">
                    <h2><i class="fas fa-file-contract"></i> Policy Snapshot</h2>
                    <span class="badge-admin">Company Policy</span>
                </div>
                <div class="card-content">
                    <div class="policy-section">
                        <h4>Per-Diem Rates</h4>
                        <div class="policy-grid">
                            <div class="policy-item">
                                <label>Domestic (Indonesia)</label>
                                <span>IDR 750,000/day</span>
                            </div>
                            <div class="policy-item">
                                <label>Regional (ASEAN)</label>
                                <span>USD 120/day</span>
                            </div>
                            <div class="policy-item">
                                <label>International</label>
                                <span>USD 180/day</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="policy-section">
                        <h4>Category Caps</h4>
                        <div class="policy-grid">
                            <div class="policy-item">
                                <label>Flight (Domestic)</label>
                                <span>IDR 3,500,000</span>
                            </div>
                            <div class="policy-item">
                                <label>Flight (International)</label>
                                <span>USD 2,000</span>
                            </div>
                            <div class="policy-item">
                                <label>Hotel (per night)</label>
                                <span>IDR 1,200,000</span>
                            </div>
                            <div class="policy-item">
                                <label>Meals (per day)</label>
                                <span>IDR 500,000</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="policy-section">
                        <h4>Mileage Policy</h4>
                        <div class="policy-grid">
                            <div class="policy-item">
                                <label>Rate per KM</label>
                                <span>IDR 3,500</span>
                            </div>
                            <div class="policy-item">
                                <label>Maximum Distance</label>
                                <span>500 KM/day</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="policy-section">
                        <h4>Budget Enforcement</h4>
                        <div class="policy-grid">
                            <div class="policy-item">
                                <label>Pre-approval Required</label>
                                <span>Above IDR 5,000,000</span>
                            </div>
                            <div class="policy-item">
                                <label>Receipt Requirement</label>
                                <span>All expenses above IDR 100,000</span>
                            </div>
                            <div class="policy-item">
                                <label>Advance Booking</label>
                                <span>14 days minimum for flights</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="last-updated">Policy effective from 1 Jan 2024</div>
                </div>
            </div>

            <!-- MWP Tools Section -->
            <div class="profile-card" id="mwp">
                <div class="card-header">
                    <h3><i class="fas fa-tools"></i> MWP Tools</h3>
                </div>
                <div class="card-content">
                    <div class="mwp-tools">
                        <div class="tool-section">
                            <h4>Upload Tools</h4>
                            <div class="btn-group">
                                <button class="tool-btn primary" onclick="downloadTemplate()">
                                    <i class="fas fa-download"></i>
                                    <span>Download Template</span>
                                </button>
                                <button class="tool-btn secondary" onclick="uploadTemplate()">
                                    <i class="fas fa-upload"></i>
                                    <span>Upload Template</span>
                                </button>
                                <button class="tool-btn secondary" onclick="openValidationResults()">
                                    <i class="fas fa-check-circle"></i>
                                    <span>Open Validation Results</span>
                                </button>
                            </div>
                            <div class="upload-preferences">
                                <label class="preference-item">
                                    <input type="radio" name="upload-mode" value="merge" checked>
                                    <span>Merge with existing data</span>
                                </label>
                                <label class="preference-item">
                                    <input type="radio" name="upload-mode" value="overwrite">
                                    <span>Overwrite existing data</span>
                                </label>
                            </div>
                        </div>
                        
                        <div class="tool-section">
                            <h4>Current Month Status</h4>
                            <div class="mwp-status">
                                <div class="status-item">
                                    <span class="status-label">December 2024</span>
                                    <span class="status-value submitted">Submitted</span>
                                </div>
                                <div class="status-item">
                                    <span class="status-label">Approval Status</span>
                                    <span class="status-value approved">Approved by Manager</span>
                                </div>
                                <div class="status-item">
                                    <span class="status-label">Total Days</span>
                                    <span class="status-value">18 working days</span>
                                </div>
                            </div>
                            <button class="view-mwp-btn" onclick="viewCurrentMWP()">
                                <i class="fas fa-eye"></i>
                                View Current MWP
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Vehicle Defaults -->
            <div class="profile-card" id="vehicle">
                <div class="card-header">
                    <h3><i class="fas fa-car"></i> Vehicle Defaults</h3>
                    <button class="edit-btn" onclick="editVehicleDefaults()">
                        <i class="fas fa-edit"></i> Edit
                    </button>
                </div>
                <div class="card-content">
                    <div class="info-grid">
                        <div class="info-item">
                            <label>License Plate</label>
                            <span>B 1234 XYZ</span>
                        </div>
                        <div class="info-item">
                            <label>Vehicle Type</label>
                            <span>Toyota Avanza</span>
                        </div>
                        <div class="info-item">
                            <label>Fuel Type</label>
                            <span>Pertalite</span>
                        </div>
                        <div class="info-item">
                            <label>Reimbursement Rate</label>
                            <span>IDR 3,500/km</span>
                        </div>
                        <div class="info-item">
                            <label>Fuel Efficiency</label>
                            <span>12 km/liter</span>
                        </div>
                    </div>
                    <div class="last-updated">Last updated by John Doe on 5 Dec 2024</div>
                </div>
            </div>

            <!-- Integrations Section -->
            <div class="profile-card" id="integrations">
                <div class="card-header">
                    <h2><i class="fas fa-plug"></i> Integrations</h2>
                    <button class="edit-btn" onclick="manageIntegrations()">
                        <i class="fas fa-cog"></i> Manage
                    </button>
                </div>
                <div class="card-content">
                    <div class="integrations-list">
                        <div class="integration-item">
                            <div class="integration-info">
                                <div class="integration-icon traveloka">
                                    <i class="fas fa-plane"></i>
                                </div>
                                <div class="integration-details">
                                    <h4>Traveloka for Business</h4>
                                    <p>Flight and hotel booking integration</p>
                                    <div class="integration-status">
                                        <span class="status-badge connected">Connected</span>
                                        <span class="last-sync">Last sync: 2 hours ago</span>
                                    </div>
                                </div>
                            </div>
                            <div class="integration-actions">
                                <button class="action-btn secondary">View Logs</button>
                                <button class="action-btn primary">Configure</button>
                            </div>
                        </div>
                        
                        <div class="integration-item">
                            <div class="integration-info">
                                <div class="integration-icon erp">
                                    <i class="fas fa-database"></i>
                                </div>
                                <div class="integration-details">
                                    <h4>ERP/Payroll System</h4>
                                    <p>Employee data and payroll integration</p>
                                    <div class="integration-status">
                                        <span class="status-badge error">Connection Error</span>
                                        <span class="last-sync">Last sync: 3 days ago</span>
                                    </div>
                                </div>
                            </div>
                            <div class="integration-actions">
                                <button class="action-btn secondary">View Logs</button>
                                <button class="action-btn warning">Reconnect</button>
                            </div>
                        </div>
                        
                        <div class="integration-item">
                            <div class="integration-info">
                                <div class="integration-icon slack">
                                    <i class="fab fa-slack"></i>
                                </div>
                                <div class="integration-details">
                                    <h4>Slack Workspace</h4>
                                    <p>Team notifications and approvals</p>
                                    <div class="integration-status">
                                        <span class="status-badge connected">Connected</span>
                                        <span class="last-sync">Last sync: 15 minutes ago</span>
                                    </div>
                                </div>
                            </div>
                            <div class="integration-actions">
                                <button class="action-btn secondary">View Logs</button>
                                <button class="action-btn primary">Configure</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="last-updated">Last updated by System on 18 Dec 2024</div>
                </div>
            </div>

            <!-- Notification Settings Section -->
            <div class="profile-card" id="notifications">
                <div class="card-header">
                    <h3><i class="fas fa-bell"></i> Notification Settings</h3>
                    <button class="edit-btn" onclick="editNotifications()">
                        <i class="fas fa-edit"></i> Edit
                    </button>
                </div>
                <div class="card-content">
                    <div class="notification-matrix">
                        <h4>Notification Preferences</h4>
                        <div class="matrix-table">
                            <div class="matrix-header">
                                <div class="matrix-label-header">
                                    <span>Notification Type</span>
                                </div>
                                <div class="matrix-channels-header">
                                    <div class="channel-header">
                                        <i class="fas fa-envelope"></i>
                                        <span>Email</span>
                                        <button class="test-notification-btn" onclick="testNotification('email')" title="Test Email"><i class="fas fa-envelope"></i></button>
                                    </div>
                                    <div class="channel-header">
                                        <i class="fas fa-mobile-alt"></i>
                                        <span>Push</span>
                                        <button class="test-notification-btn" onclick="testNotification('push')" title="Test Push"><i class="fas fa-mobile-alt"></i></button>
                                    </div>
                                    <div class="channel-header">
                                        <i class="fab fa-slack"></i>
                                        <span>Slack</span>
                                        <button class="test-notification-btn" onclick="testNotification('slack')" title="Test Slack"><i class="fab fa-slack"></i></button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="matrix-row">
                                <div class="matrix-label">
                                    <span class="notification-name">MWP Comments</span>
                                    <span class="notification-desc">New comments on MWP submissions</span>
                                </div>
                                <div class="matrix-channels">
                                    <label class="toggle-switch mini">
                                        <input type="checkbox" checked>
                                        <span class="slider"></span>
                                    </label>
                                    <label class="toggle-switch mini">
                                        <input type="checkbox" checked>
                                        <span class="slider"></span>
                                    </label>
                                    <label class="toggle-switch mini">
                                        <input type="checkbox">
                                        <span class="slider"></span>
                                    </label>
                                </div>
                            </div>
                            
                            <div class="matrix-row">
                                <div class="matrix-label">
                                    <span class="notification-name">Expense Rejected</span>
                                    <span class="notification-desc">When expense reports are rejected</span>
                                </div>
                                <div class="matrix-channels">
                                    <label class="toggle-switch mini">
                                        <input type="checkbox" checked>
                                        <span class="slider"></span>
                                    </label>
                                    <label class="toggle-switch mini">
                                        <input type="checkbox" checked>
                                        <span class="slider"></span>
                                    </label>
                                    <label class="toggle-switch mini">
                                        <input type="checkbox" checked>
                                        <span class="slider"></span>
                                    </label>
                                </div>
                            </div>
                            
                            <div class="matrix-row">
                                <div class="matrix-label">
                                    <span class="notification-name">Payment Done</span>
                                    <span class="notification-desc">When payments are processed</span>
                                </div>
                                <div class="matrix-channels">
                                    <label class="toggle-switch mini">
                                        <input type="checkbox" checked>
                                        <span class="slider"></span>
                                    </label>
                                    <label class="toggle-switch mini">
                                        <input type="checkbox">
                                        <span class="slider"></span>
                                    </label>
                                    <label class="toggle-switch mini">
                                        <input type="checkbox">
                                        <span class="slider"></span>
                                    </label>
                                </div>
                            </div>
                            
                            <div class="matrix-row">
                                <div class="matrix-label">
                                    <span class="notification-name">Over Budget Warning</span>
                                    <span class="notification-desc">When approaching budget limits</span>
                                </div>
                                <div class="matrix-channels">
                                    <label class="toggle-switch mini">
                                        <input type="checkbox" checked>
                                        <span class="slider"></span>
                                    </label>
                                    <label class="toggle-switch mini">
                                        <input type="checkbox" checked>
                                        <span class="slider"></span>
                                    </label>
                                    <label class="toggle-switch mini">
                                        <input type="checkbox" checked>
                                        <span class="slider"></span>
                                    </label>
                                </div>
                            </div>
                            
                            <div class="matrix-row">
                                <div class="matrix-label">
                                    <span class="notification-name">Approval Required</span>
                                    <span class="notification-desc">When approvals are needed</span>
                                </div>
                                <div class="matrix-channels">
                                    <label class="toggle-switch mini">
                                        <input type="checkbox" checked>
                                        <span class="slider"></span>
                                    </label>
                                    <label class="toggle-switch mini">
                                        <input type="checkbox" checked>
                                        <span class="slider"></span>
                                    </label>
                                    <label class="toggle-switch mini">
                                        <input type="checkbox" checked>
                                        <span class="slider"></span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="notification-schedule">
                        <h4>Notification Schedule</h4>
                        <div class="schedule-settings">
                            <div class="schedule-item">
                                <div class="schedule-info">
                                    <span class="schedule-title">Quiet Hours</span>
                                    <span class="schedule-desc">No push notifications during these hours</span>
                                </div>
                                <div class="time-range">
                                    <select class="time-select">
                                        <option value="22">22:00</option>
                                        <option value="23">23:00</option>
                                        <option value="00" selected>00:00</option>
                                    </select>
                                    <span>to</span>
                                    <select class="time-select">
                                        <option value="06">06:00</option>
                                        <option value="07" selected>07:00</option>
                                        <option value="08">08:00</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="schedule-item">
                                <div class="schedule-info">
                                    <span class="schedule-title">Digest Frequency</span>
                                    <span class="schedule-desc">Receive summary of notifications</span>
                                </div>
                                <select class="digest-select">
                                    <option value="none">No Digest</option>
                                    <option value="daily" selected>Daily Digest</option>
                                    <option value="weekly">Weekly Digest</option>
                                </select>
                            </div>
                            
                            <div class="schedule-item">
                                <div class="schedule-info">
                                    <span class="schedule-title">Digest Time</span>
                                    <span class="schedule-desc">When to send digest</span>
                                </div>
                                <select class="time-select">
                                    <option value="08" selected>08:00</option>
                                    <option value="09">09:00</option>
                                    <option value="18">18:00</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="last-updated">Last updated by John Doe on 16 Dec 2024</div>
                </div>
            </div>

            <!-- Delegation Settings Section -->
            <div class="profile-card" id="delegation">
                <div class="card-header">
                    <h2><i class="fas fa-user-friends"></i> Delegation Settings</h2>
                    <button class="edit-btn" onclick="editDelegation()">
                        <i class="fas fa-edit"></i> Edit
                    </button>
                </div>
                <div class="card-content">
                    <div class="delegation-status">
                        <div class="status-indicator active">
                            <i class="fas fa-check-circle"></i>
                            <span>Active Delegation</span>
                        </div>
                    </div>
                    
                    <div class="delegation-details">
                        <h4>Current Delegation</h4>
                        <div class="delegation-period">
                            <div class="period-info">
                                <i class="fas fa-calendar-alt"></i>
                                <span>December 20 - 30, 2024</span>
                                <span class="days-remaining">5 days remaining</span>
                            </div>
                        </div>
                        
                        <div class="delegate-info">
                            <div class="delegate-card">
                                <div class="delegate-avatar">
                                    <img src="https://via.placeholder.com/40x40" alt="Sarah Johnson">
                                </div>
                                <div class="delegate-details">
                                    <h5>Sarah Johnson</h5>
                                    <span class="delegate-role">Senior Finance Manager</span>
                                    <span class="delegate-email">sarah.johnson@company.com</span>
                                </div>
                                <div class="delegate-status">
                                    <span class="status-badge active">Active</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="delegation-scope">
                            <h5>Delegation Scope</h5>
                            <div class="scope-list">
                                <div class="scope-item enabled">
                                    <i class="fas fa-check"></i>
                                    <span>Expense Report Approval</span>
                                </div>
                                <div class="scope-item enabled">
                                    <i class="fas fa-check"></i>
                                    <span>Travel Request Approval</span>
                                </div>
                                <div class="scope-item enabled">
                                    <i class="fas fa-check"></i>
                                    <span>Budget Management</span>
                                </div>
                                <div class="scope-item disabled">
                                    <i class="fas fa-times"></i>
                                    <span>Policy Changes</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="delegation-notifications">
                            <h5>Notification Settings</h5>
                            <div class="notification-options">
                                <div class="notification-item">
                                    <label>Notify delegate of new requests</label>
                                    <span class="toggle-status enabled">Enabled</span>
                                </div>
                                <div class="notification-item">
                                    <label>Copy me on all delegate actions</label>
                                    <span class="toggle-status enabled">Enabled</span>
                                </div>
                                <div class="notification-item">
                                    <label>Daily delegation summary</label>
                                    <span class="toggle-status disabled">Disabled</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="last-updated">Last updated by John Doe on 20 Dec 2024</div>
                </div>
            </div>

            <!-- Active Sessions Section -->
            <div class="profile-card" id="sessions">
                <div class="card-header">
                    <h2><i class="fas fa-desktop"></i> Active Sessions & Devices</h2>
                    <button class="edit-btn" onclick="manageActiveSessions()">
                        <i class="fas fa-cog"></i> Manage
                    </button>
                </div>
                <div class="card-content">
                    <div class="sessions-list">
                        <h4>Current Sessions</h4>
                        <div class="session-item current">
                            <div class="session-info">
                                <div class="device-icon">
                                    <i class="fas fa-desktop"></i>
                                </div>
                                <div class="session-details">
                                    <h5>Windows PC - Chrome</h5>
                                    <span class="session-location">Jakarta, Indonesia</span>
                                    <span class="session-time">Current session</span>
                                    <span class="session-ip">IP: 203.142.***.**</span>
                                </div>
                            </div>
                            <div class="session-actions">
                                <span class="current-badge">Current</span>
                            </div>
                        </div>
                        
                        <div class="session-item">
                            <div class="session-info">
                                <div class="device-icon">
                                    <i class="fas fa-mobile-alt"></i>
                                </div>
                                <div class="session-details">
                                    <h5>iPhone 14 Pro - Safari</h5>
                                    <span class="session-location">Jakarta, Indonesia</span>
                                    <span class="session-time">2 hours ago</span>
                                    <span class="session-ip">IP: 203.142.***.**</span>
                                </div>
                            </div>
                            <div class="session-actions">
                                <button class="sign-out-btn" onclick="signOutDevice('mobile-safari')">Sign Out</button>
                            </div>
                        </div>
                        
                        <h4>Recent Sessions</h4>
                        <div class="session-item past">
                            <div class="session-info">
                                <div class="device-icon">
                                    <i class="fas fa-laptop"></i>
                                </div>
                                <div class="session-details">
                                    <h5>MacBook Pro - Safari</h5>
                                    <span class="session-location">Surabaya, Indonesia</span>
                                    <span class="session-time">3 days ago</span>
                                    <span class="session-ip">IP: 114.79.***.**</span>
                                </div>
                            </div>
                            <div class="session-actions">
                                <span class="expired-badge">Expired</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="last-updated">Last updated on 18 Dec 2024</div>
                </div>
            </div>

            <!-- Security Settings Section -->
            <div class="profile-card" id="security">
                <div class="card-header">
                    <h2><i class="fas fa-shield-alt"></i> Security Settings</h2>
                </div>
                <div class="card-content">
                    <div class="security-options">
                        <div class="security-item">
                            <div class="security-info">
                                <i class="fas fa-key"></i>
                                <div class="security-details">
                                    <h4>Change Password</h4>
                                    <p>Update your account password</p>
                                    <span class="last-changed">Last changed: 45 days ago</span>
                                </div>
                            </div>
                            <button class="action-btn primary" onclick="changePassword()">
                                <i class="fas fa-edit"></i> Change
                            </button>
                        </div>
                        
                        <div class="security-item">
                            <div class="security-info">
                                <i class="fas fa-mobile-alt"></i>
                                <div class="security-details">
                                    <h4>Two-Factor Authentication</h4>
                                    <p>Add an extra layer of security</p>
                                    <span class="status-enabled">Enabled - SMS (+62 812-****-5678)</span>
                                </div>
                            </div>
                            <button class="action-btn secondary" onclick="manage2FA()">
                                <i class="fas fa-cog"></i> Manage
                            </button>
                        </div>
                        
                        <div class="security-item">
                            <div class="security-info">
                                <i class="fas fa-history"></i>
                                <div class="security-details">
                                    <h4>Login History</h4>
                                    <p>View recent login activity</p>
                                    <span class="last-login">Last login: Today at 09:15 WIB</span>
                                </div>
                            </div>
                            <button class="action-btn secondary" onclick="viewLoginHistory()">
                                <i class="fas fa-eye"></i> View
                            </button>
                        </div>
                        
                        <div class="security-item">
                            <div class="security-info">
                                <i class="fas fa-download"></i>
                                <div class="security-details">
                                    <h4>Export Data</h4>
                                    <p>Download your account data</p>
                                    <span class="export-info">Includes profile, expenses, and travel data</span>
                                </div>
                            </div>
                            <button class="action-btn secondary" onclick="exportData()">
                                <i class="fas fa-download"></i> Export
                            </button>
                        </div>
                        
                        <div class="security-item danger">
                            <div class="security-info">
                                <i class="fas fa-exclamation-triangle"></i>
                                <div class="security-details">
                                    <h4>Deactivate Account</h4>
                                    <p>Temporarily disable your account</p>
                                    <span class="warning-text">This action can be reversed</span>
                                </div>
                            </div>
                            <button class="action-btn danger" onclick="deactivateAccount()">
                                <i class="fas fa-ban"></i> Deactivate
                            </button>
                        </div>
                    </div>
                    
                    <div class="last-updated">Security settings last reviewed on 10 Dec 2024</div>
                </div>
            </div>

            <!-- App Settings Section -->
            <div class="profile-card" id="app">
                <div class="card-header">
                    <h2><i class="fas fa-mobile-alt"></i> App Settings</h2>
                    <button class="edit-btn" onclick="editAppSettings()">
                        <i class="fas fa-edit"></i> Edit
                    </button>
                </div>
                <div class="card-content">
                    <div class="settings-section">
                        <h4>Display & Interface</h4>
                        <div class="setting-item">
                            <div class="setting-info">
                                <label>App Theme</label>
                                <p>Choose your preferred app appearance</p>
                            </div>
                            <div class="setting-control">
                                <select class="setting-select" onchange="changeTheme(this.value)">
                                    <option value="light" selected>Light Mode</option>
                                    <option value="dark">Dark Mode</option>
                                    <option value="auto">Auto (System)</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <label>Language</label>
                                <p>Select your preferred language</p>
                            </div>
                            <div class="setting-control">
                                <select class="setting-select" onchange="changeLanguage(this.value)">
                                    <option value="en" selected>English (US)</option>
                                    <option value="id">Bahasa Indonesia</option>
                                    <option value="zh">中文 (简体)</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <label>Currency Display</label>
                                <p>Default currency for amounts</p>
                            </div>
                            <div class="setting-control">
                                <select class="setting-select" onchange="changeCurrency(this.value)">
                                    <option value="IDR" selected>Indonesian Rupiah (IDR)</option>
                                    <option value="USD">US Dollar (USD)</option>
                                    <option value="SGD">Singapore Dollar (SGD)</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="settings-section">
                        <h4>Data & Sync</h4>
                        <div class="setting-item">
                            <div class="setting-info">
                                <label>Auto-Sync</label>
                                <p>Automatically sync data when app opens</p>
                            </div>
                            <div class="setting-control">
                                <label class="toggle-switch">
                                    <input type="checkbox" checked onchange="toggleAutoSync(this.checked)">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <label>Data Usage</label>
                                <p>Control when to sync data</p>
                            </div>
                            <div class="setting-control">
                                <select class="setting-select" onchange="changeDataUsage(this.value)">
                                    <option value="wifi-cellular" selected>WiFi + Cellular</option>
                                    <option value="wifi-only">WiFi Only</option>
                                    <option value="manual">Manual Sync</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <label>Offline Mode</label>
                                <p>Allow app to work without internet</p>
                            </div>
                            <div class="setting-control">
                                <label class="toggle-switch">
                                    <input type="checkbox" checked onchange="toggleOfflineMode(this.checked)">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="settings-section">
                        <h4>Privacy & Security</h4>
                        <div class="setting-item">
                            <div class="setting-info">
                                <label>Biometric Login</label>
                                <p>Use fingerprint or face ID to login</p>
                            </div>
                            <div class="setting-control">
                                <label class="toggle-switch">
                                    <input type="checkbox" checked onchange="toggleBiometric(this.checked)">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <label>Auto-Lock</label>
                                <p>Lock app after inactivity</p>
                            </div>
                            <div class="setting-control">
                                <select class="setting-select" onchange="changeAutoLock(this.value)">
                                    <option value="immediate">Immediately</option>
                                    <option value="1min">1 minute</option>
                                    <option value="5min" selected>5 minutes</option>
                                    <option value="15min">15 minutes</option>
                                    <option value="never">Never</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="last-updated">App settings last modified on 8 Dec 2024</div>
                </div>
            </div>

            <!-- Permissions & Audit Trail Section -->
            <div class="profile-card" id="permissions">
                <div class="card-header">
                    <h3><i class="fas fa-shield-alt"></i> Permissions & Audit Trail</h3>
                </div>
                <div class="card-content">
                    <div class="permissions-section">
                        <h4>Edit Permissions</h4>
                        <div class="permissions-grid">
                            <div class="permission-item">
                                <div class="permission-info">
                                    <span class="permission-field">Personal Information</span>
                                    <span class="permission-desc">Name, email, phone, address</span>
                                </div>
                                <div class="permission-status">
                                    <span class="badge editable">You can edit</span>
                                </div>
                            </div>
                            
                            <div class="permission-item">
                                <div class="permission-info">
                                    <span class="permission-field">Budget Information</span>
                                    <span class="permission-desc">Budget limits, cost centers</span>
                                </div>
                                <div class="permission-status">
                                    <span class="badge managed">Managed by Admin</span>
                                </div>
                            </div>
                            
                            <div class="permission-item">
                                <div class="permission-info">
                                    <span class="permission-field">Approver Chain</span>
                                    <span class="permission-desc">Line manager, finance approver</span>
                                </div>
                                <div class="permission-status">
                                    <span class="badge managed">Managed by HR</span>
                                </div>
                            </div>
                            
                            <div class="permission-item">
                                <div class="permission-info">
                                    <span class="permission-field">Travel Preferences</span>
                                    <span class="permission-desc">Airline, hotel, car preferences</span>
                                </div>
                                <div class="permission-status">
                                    <span class="badge editable">You can edit</span>
                                </div>
                            </div>
                            
                            <div class="permission-item">
                                <div class="permission-info">
                                    <span class="permission-field">Bank & Tax Information</span>
                                    <span class="permission-desc">Bank account, tax ID</span>
                                </div>
                                <div class="permission-status">
                                    <span class="badge restricted">Restricted – Finance</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="audit-section">
                        <h4>Recent Profile Changes</h4>
                        <div class="audit-trail">
                            <div class="audit-item">
                                <div class="audit-icon">
                                    <i class="fas fa-edit"></i>
                                </div>
                                <div class="audit-details">
                                    <div class="audit-action">Bank account updated</div>
                                    <div class="audit-meta">by Finance Admin on 20 Dec 2024, 14:30</div>
                                </div>
                                <div class="audit-status">
                                    <span class="status-badge sensitive">Sensitive</span>
                                </div>
                            </div>
                            
                            <div class="audit-item">
                                <div class="audit-icon">
                                    <i class="fas fa-user-edit"></i>
                                </div>
                                <div class="audit-details">
                                    <div class="audit-action">Travel preferences modified</div>
                                    <div class="audit-meta">by You on 18 Dec 2024, 09:15</div>
                                </div>
                                <div class="audit-status">
                                    <span class="status-badge normal">Normal</span>
                                </div>
                            </div>
                            
                            <div class="audit-item">
                                <div class="audit-icon">
                                    <i class="fas fa-users"></i>
                                </div>
                                <div class="audit-details">
                                    <div class="audit-action">Delegation settings changed</div>
                                    <div class="audit-meta">by You on 15 Dec 2024, 16:45</div>
                                </div>
                                <div class="audit-status">
                                    <span class="status-badge sensitive">Sensitive</span>
                                </div>
                            </div>
                            
                            <div class="audit-item">
                                <div class="audit-icon">
                                    <i class="fas fa-shield-alt"></i>
                                </div>
                                <div class="audit-details">
                                    <div class="audit-action">2FA enabled</div>
                                    <div class="audit-meta">by You on 10 Dec 2024, 11:20</div>
                                </div>
                                <div class="audit-status">
                                    <span class="status-badge security">Security</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="audit-actions">
                            <button class="btn-secondary" onclick="exportAuditLog()">Export Full Audit Log</button>
                        </div>
                    </div>
                    
                    <div class="last-updated">Last updated by System on 22 Dec 2024</div>
                </div>
            </div>

        </div>
    </main>

    <script>
        // Navigation and UI functions
        function toggleMoreMenu() {
            const btn = document.querySelector('.more-btn');
            const dropdown = document.querySelector('.more-dropdown');
            if (!btn || !dropdown) return;
            
            const isOpen = dropdown.classList.contains('show');
            dropdown.classList.toggle('show');
            btn.setAttribute('aria-expanded', !isOpen);
        }
        
        // Close dropdown when clicking outside
        document.addEventListener('click', function(e) {
            const moreBtn = document.querySelector('.more-btn');
            const dropdown = document.querySelector('.more-dropdown');
            
            if (moreBtn && dropdown && !moreBtn.contains(e.target) && !dropdown.contains(e.target)) {
                dropdown.classList.remove('show');
                moreBtn.setAttribute('aria-expanded', 'false');
            }
        });
        
        // Smooth scroll for navigation
        document.querySelectorAll('.subnav a, .subnav-select').forEach(element => {
            if (element.tagName === 'A') {
                element.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href').substring(1);
                    const targetElement = document.getElementById(targetId);
                    if (targetElement) {
                        targetElement.scrollIntoView({ behavior: 'smooth', block: 'start' });
                        
                        // Update active state
                        document.querySelectorAll('.subnav a, .more-dropdown a').forEach(link => {
                            link.classList.remove('active');
                            link.removeAttribute('aria-current');
                        });
                        this.classList.add('active');
                        this.setAttribute('aria-current', 'page');
                    }
                });
            }
        });
        
        // Profile editing functions
        function editPersonalInfo() {
            alert('Edit Personal Information functionality would be implemented here');
        }
        
        function editTravelPreferences() {
            alert('Edit Travel Preferences functionality would be implemented here');
        }
        
        function contactFinance() {
            alert('Contact Finance functionality would be implemented here');
        }
        
        function editNotifications() {
            alert('Edit Notifications functionality would be implemented here');
        }
        
        function editDelegation() {
            alert('Edit Delegation functionality would be implemented here');
        }
        
        function editAppSettings() {
            alert('Edit App Settings functionality would be implemented here');
        }
        
        // Security functions
        function changePassword() {
            alert('Change Password functionality would be implemented here');
        }
        
        function manage2FA() {
            alert('Manage 2FA functionality would be implemented here');
        }
        
        function viewLoginHistory() {
            alert('View Login History functionality would be implemented here');
        }
        
        function exportData() {
            alert('Export Data functionality would be implemented here');
        }
        
        function deactivateAccount() {
            if (confirm('Are you sure you want to deactivate your account?')) {
                alert('Account deactivation functionality would be implemented here');
            }
        }
        
        // Session management
        function signOutSession(sessionId) {
            if (confirm('Are you sure you want to sign out this session?')) {
                alert(`Sign out session ${sessionId} functionality would be implemented here`);
            }
        }
        
        function signOutAllSessions() {
            if (confirm('Are you sure you want to sign out all other sessions?')) {
                alert('Sign out all sessions functionality would be implemented here');
            }
        }
        
        // Notification functions
        function testEmail() {
            alert('Test email notification sent!');
        }
        
        function testPush() {
            alert('Test push notification sent!');
        }
        
        function testSlack() {
            alert('Test Slack notification sent!');
        }
        
        function toggleNotification(type, enabled) {
            console.log(`${type} notifications ${enabled ? 'enabled' : 'disabled'}`);
        }
        
        // Integration functions
        function viewLogs(integration) {
            alert(`View logs for ${integration} functionality would be implemented here`);
        }
        
        function configureIntegration(integration) {
            alert(`Configure ${integration} functionality would be implemented here`);
        }
        
        function reconnectIntegration(integration) {
            alert(`Reconnect ${integration} functionality would be implemented here`);
        }
        
        // App settings functions
        function changeTheme(theme) {
            console.log(`Theme changed to: ${theme}`);
        }
        
        function changeLanguage(language) {
            console.log(`Language changed to: ${language}`);
        }
        
        function changeCurrency(currency) {
            console.log(`Currency changed to: ${currency}`);
        }
        
        function toggleAutoSync(enabled) {
            console.log(`Auto-sync ${enabled ? 'enabled' : 'disabled'}`);
        }
        
        function changeDataUsage(usage) {
            console.log(`Data usage changed to: ${usage}`);
        }
        
        function toggleOfflineMode(enabled) {
            console.log(`Offline mode ${enabled ? 'enabled' : 'disabled'}`);
        }
        
        function toggleBiometric(enabled) {
            console.log(`Biometric login ${enabled ? 'enabled' : 'disabled'}`);
        }
        
        function changeAutoLock(duration) {
            console.log(`Auto-lock changed to: ${duration}`);
        }
        
        // Business info functions
        function requestChange(field) {
            alert(`Request change for ${field} functionality would be implemented here`);
        }
        
        // Permissions & Audit Trail functions
        function exportAuditLog() {
            alert('Export audit log functionality would be implemented here');
        }
        
        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Profile page loaded successfully - All features implemented!');
        });
    </script>
    <script>
        // Toggle user menu
        function toggleUserMenu() {
            // Placeholder for user menu functionality
            // In a real app, this would show/hide a dropdown menu
            console.log('User menu toggled');
            alert('User menu - Coming soon!');
        }
    </script>
</body>
</html>